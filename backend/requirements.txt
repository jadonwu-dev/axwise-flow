# Main production requirements for DesignThinkingAgentAI backend
# This file contains all dependencies needed to run the backend application with pinned versions
# Install with: pip install -r backend/requirements.txt

# FastAPI and web server
fastapi==0.110.0
uvicorn==0.27.1
python-multipart==0.0.9
starlette>=0.27.0
jinja2>=3.1.2
typing-extensions>=4.8.0

***REMOVED***
sqlalchemy==2.0.27
psycopg2-binary==2.9.9
alembic==1.13.1
aiosqlite>=0.19.0  # SQLite async driver

# Authentication & Security
python-jose[cryptography]==3.3.0
passlib[bcrypt]==1.7.4
httpx>=0.28.1
requests>=2.32.3
starlette-csrf>=1.4.4
cookies>=2.2.1  # For cookie handling
slowapi>=0.1.9  # Rate limiting for FastAPI
stripe>=7.0.0  # For payment processing

# LLM Services
openai>=1.52.0
google-genai>=1.10.0  # Required for instructor.from_genai compatibility
anthropic>=0.25.0  # Required by instructor library (even for Gemini usage)
instructor>=1.9.0  # For structured outputs from LLMs (requires from_genai method for google-genai)
jsonref>=1.1.0  # Required by instructor for JSON schema processing
langgraph>=0.0.55  # State machine workflow for LLM applications
langextract>=1.0.6  # For reliable structured extraction with Gemini (replaces PydanticAI for persona generation)

# Data processing
python-dotenv==1.0.1
pydantic>=2.8.0
pydantic-ai==1.0.1  # Pinned to V1 for stable API (ModelSettings, output_type)
numpy==1.26.3
pandas==2.1.4
openpyxl>=3.1.2  # Required for Excel file processing with pandas
matplotlib>=3.8.2
seaborn>=0.13.0
plotly>=5.17.0  # For interactive visualizations

# NLP and text processing
beautifulsoup4==4.12.2
markdown>=3.5.1
spacy>=3.7.2
nltk>=3.8.1

# Document generation
fpdf>=1.7.2

# Utilities
tenacity>=8.2.3
python-dateutil>=2.8.2
pytz>=2023.3
aiofiles>=23.2.1
tqdm>=4.66.1
loguru>=0.7.2
retrying>=1.3.4
json5>=0.9.14  # For lenient JSON parsing

# Monitoring and logging
structlog==24.1.0

# Testing
pytest==8.0.0
pytest-asyncio==0.23.5
pytest-cov==4.1.0
pytest-mock==3.12.0
